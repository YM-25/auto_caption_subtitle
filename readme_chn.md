<div align="center">
  <h1>AutoCaption Pro ğŸ¥ğŸ“</h1>
  <p><em>å­—å¹•ä¹Ÿè¦æœ‰â€œæ°›å›´æ„Ÿâ€ã€‚</em></p>
  <p><a href="README.md">English</a> | <strong>ä¸­æ–‡</strong></p>
</div>

---

**AutoCaption Pro** æ˜¯ä¸€æ¬¾æ™ºèƒ½ Web å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨ç”Ÿæˆã€ç¿»è¯‘å¹¶åŒæ­¥è§†é¢‘å­—å¹•ã€‚å®ƒé‡‡ç”¨å¼ºå¤§çš„æ··åˆæ¶æ„ï¼š
- **æœ¬åœ°æ™ºèƒ½**ï¼šä½¿ç”¨ OpenAI çš„ **Whisper** æ¨¡å‹è¿›è¡Œä¸šå†…é¢†å…ˆçš„è¯­éŸ³è¯†åˆ«ï¼Œç›´æ¥åœ¨æ‚¨çš„ç¡¬ä»¶ä¸Šè¿è¡Œï¼Œç¡®ä¿éšç§ä¸é€Ÿåº¦ã€‚
- **äº‘ç«¯ç¿»è¯‘ï¼ˆå¯é€‰ï¼‰**ï¼šæ”¯æŒé€šè¿‡ **Google Gemini** å’Œ **OpenAI ChatGPT** æä¾›çš„é«˜è´¨é‡ç¿»è¯‘ï¼ˆéœ€ä½¿ç”¨æ‚¨è‡ªå·±çš„ API å¯†é’¥ï¼‰ï¼Œæˆ–ä½¿ç”¨ **Deep Translator** è¿›è¡Œè½»é‡çº§ç¿»è¯‘ã€‚

## âœ¨ åŠŸèƒ½äº®ç‚¹

- **ğŸš€ æ‰¹é‡ä¸Šä¼ **ï¼šä¸€æ¬¡ä¸Šä¼ å¤šä¸ªè§†é¢‘ï¼ŒæŒ‰é˜Ÿåˆ—é¡ºåºå¤„ç†ã€‚
- **ğŸ™ï¸ è‡ªåŠ¨è½¬å†™**ï¼šä½¿ç”¨ Whisper é«˜å‡†ç¡®ç‡è½¬å†™è¯­éŸ³æ–‡æœ¬ã€‚
- **ğŸŒ æ™ºèƒ½æ··åˆç¿»è¯‘**ï¼š
  - **æœ¬åœ°/äº‘ç«¯å¯é€‰**ï¼šå¯åœ¨æœ¬åœ° `deep-translator` æˆ–æ›´å¼ºå¤§çš„äº‘ç«¯å¤§æ¨¡å‹ï¼ˆ**Gemini 3 Flash/Pro**, **GPT-5/5.2**ï¼‰ä¹‹é—´åˆ‡æ¢ã€‚
  - **æ™ºèƒ½å·¥ä½œæµ**ï¼šè‹±è¯­éŸ³é¢‘è‡ªåŠ¨ç¿»è¯‘ä¸º **ç®€ä½“ä¸­æ–‡**ï¼Œå…¶å®ƒè¯­è¨€é»˜è®¤ç¿»è¯‘ä¸º **è‹±å¼è‹±è¯­ï¼ˆen-GBï¼‰**ã€‚
  - **ç²¾å‡†æ§åˆ¶**ï¼šæ”¯æŒ **ç®€ä½“/ç¹ä½“ä¸­æ–‡** åŠé€è§†é¢‘è¯­è¨€è¦†å†™ã€‚
- **ğŸ¤– å†…ç½® AI æœåŠ¡**ï¼š
  - **API å¯†é’¥ç®¡ç†**ï¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­å®‰å…¨è¾“å…¥å¹¶éªŒè¯ Gemini/GPT å¯†é’¥ã€‚
  - **AI æç¤ºè¯æ‰©å±•**ï¼šä½¿ç”¨å¤§æ¨¡å‹æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨ä¼˜åŒ–å¹¶æ‰©å±•è½¬å†™æç¤ºè¯ï¼ˆPromptï¼‰ã€‚
  - **LLM æ·±åº¦ç¿»è¯‘**ï¼šåˆ©ç”¨ä¸–ç•Œçº§å¤§æ¨¡å‹ç†è§£ä¿šè¯­ã€ä¸“ä¸šæœ¯è¯­åŠè¯­å¢ƒã€‚
- **âš¡ é¡ºåºæ‰¹å¤„ç†**ï¼šé€ä¸ªå¤„ç†å¹¶æ˜¾ç¤ºè¿›åº¦ã€‚
- **ğŸ“¥ å¤šç§å¯¼å‡ºæ ¼å¼**ï¼š
  - `*.{source}.srt`ï¼šåŸè¯­è¨€å­—å¹•ã€‚
  - `*.{source}__{target}.srt`ï¼šç¿»è¯‘å­—å¹•ã€‚
  - `*.{source}__{target}.dual.srt`ï¼š**åŒè¯­å­—å¹•**ï¼ˆç›®æ ‡åœ¨ä¸Šï¼Œæºè¯­è¨€åœ¨ä¸‹ï¼‰ã€‚
- **ğŸ§¾ SRT ç¿»è¯‘æ¨¡å¼**ï¼šä¸Šä¼ å·²ç¼–è¾‘çš„ SRTï¼Œç”Ÿæˆç¿»è¯‘ä¸åŒè¯­ç‰ˆæœ¬ã€‚
- **ğŸ“š æœ¯è¯­è¡¨ç®¡ç†**ï¼šä¿å­˜å¯å¤ç”¨æœ¯è¯­ï¼Œæ”¯æŒ MD/TXT/JSON ä¸Šä¼ ä¸é€è§†é¢‘è¿½åŠ ã€‚
- **ğŸ§  æ–‡ä»¶åå…³é”®è¯æ¨æ–­**ï¼šä»æ–‡ä»¶åæ¨æ–­å…³é”®è¯å¹¶åŠ å…¥è½¬å†™æç¤ºã€‚
- **ğŸ§¹ å†å²æ¸…ç†**ï¼šä¸€é”®æ¸…ç†ä¸Šä¼ ä¸ç”Ÿæˆæ–‡ä»¶ã€‚
- **â¸ï¸ é˜Ÿåˆ—æ§åˆ¶**ï¼šæš‚åœ/æ¢å¤é˜Ÿåˆ—ã€å¤±è´¥é‡è¯•ã€ç§»åŠ¨åˆ°é˜Ÿåˆ—é¡¶éƒ¨ã€‚
- **ğŸ§¾ å¤„ç†æ—¥å¿—**ï¼šæ¯ä¸ªä»»åŠ¡è‡ªåŠ¨ç”Ÿæˆ JSON æ—¥å¿—ï¼Œå¯é¢„è§ˆ/ä¸‹è½½ã€‚
- **ğŸ¨ å®½å±ç°ä»£ UI**ï¼šæ›´é€‚åˆæ‰¹é‡å¤„ç†çš„æ¨ªå‘å¸ƒå±€ã€‚
- **ğŸ› ï¸ è‡ªåŠ¨ä¾èµ–æ£€æŸ¥**ï¼šå¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–ã€‚
- **ğŸ§ª é«˜çº§è®¾ç½®**ï¼šå¯é€‰æ‹© Whisper æ¨¡å‹ã€‚
- **ğŸ“ å•è§†é¢‘è¦†å†™**ï¼šå¯ä¸ºæ¯ä¸ªè§†é¢‘è®¾ç½®æ¨¡å‹ä¸åˆå§‹æç¤ºè¯ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- **Python 3.8+**
- **FFmpeg**ï¼šéœ€å®‰è£…å¹¶åŠ å…¥ç³»ç»Ÿ PATH
  - **Linux (Debian/Ubuntu)**ï¼š`sudo apt update && sudo apt install -y ffmpeg`
  - **macOS (Homebrew)**ï¼š`brew install ffmpeg`
  - **Windows**ï¼š[å®˜æ–¹ä¸‹è½½](https://ffmpeg.org/download.html)å¹¶æ‰‹åŠ¨åŠ å…¥ PATHã€‚
- **CUDAï¼ˆå¯é€‰ï¼‰**ï¼šNVIDIA GPU å¯åŠ é€Ÿ Whisper è½¬å†™ã€‚
- **ä¸Šä¼ å¤§å°é™åˆ¶**ï¼šé»˜è®¤ **5 GB**ï¼ˆå¯åœ¨ `src/config.py` è°ƒæ•´ï¼‰

### å®‰è£…ä¸è¿è¡Œ

1. **å…‹éš†ä»“åº“**ï¼š
   ```bash
   git clone https://github.com/yourusername/auto_caption_subtitle.git
   cd auto_caption_subtitle
   ```

2. **å®‰è£…ä¾èµ–**ï¼š
  ```bash
  pip install -r requirements.txt
  ```

3. **å¯åŠ¨åº”ç”¨**ï¼š
   ```bash
   python app.py
   ```
   *é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£… `requirements.txt` ä¸­çš„ä¾èµ–ã€‚*

4. **æ‰“å¼€æµè§ˆå™¨**ï¼š`http://127.0.0.1:5000`

### å¯é€‰é…ç½®

#### è™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š
```bash
python -m venv .venv
```

æ¿€æ´»ï¼š
- Windowsï¼š`\.venv\Scripts\activate`
- macOS/Linuxï¼š`source .venv/bin/activate`

#### ç¯å¢ƒå˜é‡ï¼ˆ.envï¼‰

å¤åˆ¶ `.env.example` ä¸º `.env` åé…ç½®ï¼š

| å˜é‡ | è¯´æ˜ |
|------|------|
| `FLASK_SECRET_KEY` | Flask ä¼šè¯å¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰ã€‚ |
| `WHISPER_MODEL` | Whisper æ¨¡å‹ï¼š`tiny`ã€`base`ã€`small`ã€`medium`ã€`large`ï¼ˆé»˜è®¤ `base`ï¼‰ã€‚ |
| `CLEANUP_AFTER_PROCESS` | è®¾ç½®ä¸º `1` å¯åœ¨å¤„ç†å®Œæˆååˆ é™¤ä¸Šä¼ è§†é¢‘ä¸éŸ³é¢‘ã€‚ |
| `PORT` | æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ `5000`ï¼‰ã€‚ |
| `FLASK_DEBUG` | è®¾ç½®ä¸º `1` å¯ç”¨è°ƒè¯•æ¨¡å¼ã€‚ |

#### CUDA åŠ é€Ÿï¼ˆå¯é€‰ï¼‰

å¦‚éœ€ GPU åŠ é€Ÿï¼Œè¯·å®‰è£…ä¸æ˜¾å¡é©±åŠ¨åŒ¹é…çš„ CUDA ç‰ˆ PyTorchã€‚é€‰æ‹© `medium`/`large` æ¨¡å‹æ—¶å¼ºçƒˆæ¨èã€‚

## ğŸƒ ä½¿ç”¨è¯´æ˜

1. **ä¸Šä¼ **ï¼šæ‹–æ‹½æˆ–é€‰æ‹©å¤šä¸ªè§†é¢‘æ–‡ä»¶ã€‚
2. **é…ç½® AIï¼ˆå¯é€‰ï¼‰**ï¼šåœ¨ **AI & Glossary Configuration** æ ç›®è®¾ç½®æ‚¨çš„ Gemini æˆ– GPT API å¯†é’¥ã€‚ç‚¹å‡»â€œCheckâ€éªŒè¯åå³å¯å¼€å¯é«˜è´¨é‡ç¿»è¯‘ã€‚
3. **é…ç½®è¯­è¨€**ï¼šåœ¨æ¨ªå‘åˆ—è¡¨ä¸­ä¸ºæ¯ä¸ªè§†é¢‘è®¾ç½®æºè¯­è¨€ä¸ç›®æ ‡è¯­è¨€ã€‚
4. **é«˜çº§è®¾ç½®**ï¼šé€‰æ‹© Whisper æ¨¡å‹å’Œåˆå§‹æç¤ºè¯ã€‚å¼€å¯â€œAuto-expand prompt using AIâ€ä»¥è·å¾—æ›´ç²¾å‡†çš„è½¬å†™ã€‚
5. **å¤„ç†**ï¼šç‚¹å‡» **Generate All Subtitles**ã€‚
6. **ä¸‹è½½**ï¼šå®Œæˆååœ¨ **Get Files** è·å–å­—å¹•æ–‡ä»¶ã€‚
7. **æ¸…ç†å†å²**ï¼šæ¸…é™¤æœåŠ¡å™¨ä¸Šçš„ä¸Šä¼ æ–‡ä»¶ã€éŸ³é¢‘å’Œç”Ÿæˆçš„å­—å¹•ï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚

### SRT ç¿»è¯‘

1. åˆ‡æ¢åˆ° **SRT Translate** æ ‡ç­¾ã€‚
2. ä¸Šä¼ ä¸€ä¸ªæˆ–å¤šä¸ª `.srt`ã€‚
3. é€‰æ‹©æºè¯­è¨€/ç›®æ ‡è¯­è¨€ï¼Œç‚¹å‡» **Translate SRT Files**ã€‚
4. åœ¨ **Get Files** ä¸‹è½½ç¿»è¯‘ä¸åŒè¯­å­—å¹•ã€‚

è‹¥å­—å¹•æ¡ç›®åŒ…å«ä¸¤è¡Œï¼Œç³»ç»Ÿå§‹ç»ˆå°† **ç¬¬äºŒè¡Œ** ä½œä¸ºæºæ–‡æœ¬é‡æ–°ç”Ÿæˆè¾“å‡ºï¼›å½“æºè¯­è¨€è®¾ä¸º Autoï¼Œä¼šè¿›è¡Œç®€å•è„šæœ¬æ£€æµ‹ä»¥æ¨æ–­è¯­è¨€ï¼ˆå¦‚æ‹‰ä¸å­—æ¯ â†’ è‹±è¯­ï¼Œæ±‰å­— â†’ ä¸­æ–‡ï¼‰ã€‚

### æœ¯è¯­è¡¨

- **å·²ä¿å­˜æœ¯è¯­è¡¨** å­˜å‚¨äº `data/glossary.json`ï¼Œå¯åœ¨ UI ä¸­é¢„è§ˆ/ä¸‹è½½ã€‚
- **è¾“å…¥æˆ–ä¸Šä¼ ** æ”¯æŒ `term = translation` æˆ– `term -> translation`ï¼ˆé€è¡Œï¼‰ï¼Œä¹Ÿæ”¯æŒ JSON åˆ—è¡¨æ ¼å¼ã€‚
- **å•è§†é¢‘æœ¯è¯­** å¯é™„åŠ å¹¶é€‰æ‹©ä¿å­˜åˆ°å…¨å±€æœ¯è¯­è¡¨ã€‚
- **ä»æ–‡ä»¶åæ¨æ–­å…³é”®è¯** å¯åŠ å…¥ Whisper æç¤ºè¯ï¼Œæé«˜ä¸“æœ‰åè¯è¯†åˆ«ç‡ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
auto_caption_subtitle/
â”œâ”€â”€ app.py                 # Flask å…¥å£ï¼›ä»…åœ¨æ­¤å¯åŠ¨æ—¶æ‰§è¡Œä¾èµ–æ£€æŸ¥
â”œâ”€â”€ .env.example           # å¯é€‰ç¯å¢ƒå˜é‡
â”œâ”€â”€ requirements.txt       # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config.py          # é…ç½®ï¼šè·¯å¾„ã€æ¨¡å‹ã€æ¸…ç†ã€å¯†é’¥
â”‚   â”œâ”€â”€ dependency_manager.py  # ä¾èµ–æ£€æŸ¥/å®‰è£…
â”‚   â”œâ”€â”€ glossary.py        # æœ¯è¯­è¡¨è¯»å†™/è§£æ
â”‚   â”œâ”€â”€ pipeline.py        # è§†é¢‘å¤„ç†æµæ°´çº¿
â”‚   â”œâ”€â”€ srt_utils.py       # SRT è§£æä¸è¯­è¨€æç¤º
â”‚   â”œâ”€â”€ transcriber.py     # Whisper ä¸ SRT è¾“å‡º
â”‚   â”œâ”€â”€ translator.py      # ç¿»è¯‘é€»è¾‘ï¼ˆdeep-translatorï¼‰
â”‚   â””â”€â”€ video_processor.py # FFmpeg æå–éŸ³é¢‘
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html         # ä¸»ç•Œé¢
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/style.css      # æ ·å¼
â”‚   â””â”€â”€ js/script.js       # ä¸Šä¼ ã€è¿›åº¦ã€ä¸‹è½½
â””â”€â”€ data/                  # è‡ªåŠ¨ç”Ÿæˆï¼ˆgit-ignoredï¼‰
    â”œâ”€â”€ glossary.json      # ä¿å­˜çš„æœ¯è¯­è¡¨
    â””â”€â”€ transcripts/       # å­—å¹•è¾“å‡º + JSON æ—¥å¿—
```

## ğŸ“ è®¸å¯è¯

[MIT License](LICENSE)
